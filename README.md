# Nickel schemastore

Schemastore is a Nickel library containing contracts automatically generated
from the [schemastore](https://schemastore.org/json/)'s using
[json-schema-to-nickel](https://github.com/nickel-lang/json-schema-to-nickel/).
It is distributed through the (currently experimental) Nickel package manager.

## Usage

Add the following field to the dependencies of your [Nickel project
manifest](https://nickel-lang.org/user-manual/package-management/#the-manifest-file):

```nickel
schemastore = 'Index { "github:nickel-lang/nickel-schemastore", version = "0.1.0" }
```

Then import one of the available schema in any Nickel file of your project:

```nickel
let PlatformShRoutes = (import schemastore)."Platform.sh routes" in
...
```

The available contracts are visible in [main.ncl](./main.ncl).

## Regenerating the contracts

The contracts as well as the main entry point `main.ncl` are generated by the
`extract-schemas.py`. Use `nix develop` to enter a shell with the required
environment set up and run `python extract-schemas.py` to regenerate the
contracts.
